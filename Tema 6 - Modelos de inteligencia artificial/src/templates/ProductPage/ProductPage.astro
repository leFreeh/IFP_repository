---
import type { ProductPageProps } from "./productPage";

import Layout from "@blocks/Layout/Layout.astro";
import Hero from "@blocks/Hero/Hero.astro";

import styles from "./product-page.module.scss";

import { Carousel } from "webcoreui/astro";

interface Props extends ProductPageProps {}

const {
	layout,
	images,
	carousel,
	buttons,
	features,
	recommended,
	hero,
	...rest
} = Astro.props;
---

<Layout {...layout} {...rest} className={styles.main}>
	{
		Astro.slots.has("menu") && (
			<div slot="menu">
				<slot name="menu" />
			</div>
		)
	}

	{hero && <Hero {...hero} />}

	{
		images?.length && (
			<Carousel
				{...carousel}
				slot="above-footer"
				items={images.length}
				className={styles.container}
				wrapperClassName={styles.carousel}
			>
				{images.map((img) => (
					<li>
						<img
							src={img.src}
							alt={img.alt}
							width={img.width}
							height={img.height}
							loading={img.lazy ? "lazy" : undefined}
						/>
					</li>
				))}
			</Carousel>
		)
	}

	<slot />

</Layout>
